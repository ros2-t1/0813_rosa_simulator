# really_correct_domain_bridge.yaml

topics:

  # ==================== DP_03 TF 리맵 (꼭 필요) ====================
  
  # 로봇의 /tf → 관제의 /DP_03/tf
  tf:
    type: tf2_msgs/msg/TFMessage
    from_domain: 13
    to_domain: 20
    remap: DP_03/tf

  # 로봇의 /tf_static → 관제의 /DP_03/tf_static  
  tf_static:
    type: tf2_msgs/msg/TFMessage
    from_domain: 13
    to_domain: 20
    remap: DP_03/tf_static

  # ==================== 나머지 토픽들 (리맵 없이 도메인 브리지) ====================
  
  # DP_03 상태 토픽들 (로봇 → 관제)

  pinky_battery_present:
    type: std_msgs/msg/Float32
    from_domain: 13  
    to_domain: 20
    remap: DP_03/battery_present 

  DP_03/initialpose:
    type: geometry_msgs/msg/PoseWithCovarianceStamped
    from_domain: 20  
    to_domain: 13  

  DP_03/amcl_pose:
    type: geometry_msgs/msg/PoseWithCovarianceStamped
    from_domain: 13
    to_domain: 20

  DP_03/plan:
    type: 'nav_msgs/msg/Path'
    from_domain: 13
    to_domain: 20
    remap: plan
  
  DP_03/local_plan:
    type: 'nav_msgs/msg/Path'
    from_domain: 13
    to_domain: 20
    remap: local_plan

  DP_03/odom:
    type: nav_msgs/msg/Odometry
    from_domain: 13
    to_domain: 20

  DP_03/scan:
    type: sensor_msgs/msg/LaserScan
    from_domain: 13
    to_domain: 20

  DP_03/particle_cloud:
    type: nav2_msgs/msg/ParticleCloud
    from_domain: 13
    to_domain: 20

  DP_03/robot_description:
    type: std_msgs/msg/String
    from_domain: 13
    to_domain: 20

  # 제어 토픽 (관제 → 로봇) - 필요할 때만
  DP_03/cmd_vel:
    type: geometry_msgs/msg/Twist
    from_domain: 20
    to_domain: 13
    remap: cmd_vel

  DP_03/goal_pose:
    type: geometry_msgs/msg/PoseStamped
    from_domain: 20
    to_domain: 13
    remap: goal_pose

  # ==================== DP_09 TF 리맵 (꼭 필요) ====================
  
  # 로봇의 /tf → 관제의 /DP_09/tf
  tf:
    type: tf2_msgs/msg/TFMessage
    from_domain: 19
    to_domain: 20
    remap: DP_09/tf

  # 로봇의 /tf_static → 관제의 /DP_09/tf_static  
  tf_static:
    type: tf2_msgs/msg/TFMessage
    from_domain: 19
    to_domain: 20
    remap: DP_09/tf_static

  # ==================== 나머지 토픽들 (리맵 없이 도메인 브리지) ====================
  
  # DP_09 상태 토픽들 (로봇 → 관제)

  pinky_battery_present:
    type: std_msgs/msg/Float32
    from_domain: 19  
    to_domain: 20
    remap: DP_09/battery_present

  DP_09/initialpose:
    type: geometry_msgs/msg/PoseWithCovarianceStamped
    from_domain: 20  
    to_domain: 19  

  DP_09/amcl_pose:
    type: geometry_msgs/msg/PoseWithCovarianceStamped
    from_domain: 19
    to_domain: 20

  DP_09/plan:
    type: 'nav_msgs/msg/Path'
    from_domain: 19
    to_domain: 20
    remap: plan
  
  DP_09/local_plan:
    type: 'nav_msgs/msg/Path'
    from_domain: 19
    to_domain: 20
    remap: local_plan

  DP_09/odom:
    type: nav_msgs/msg/Odometry
    from_domain: 19
    to_domain: 20

  DP_09/scan:
    type: sensor_msgs/msg/LaserScan
    from_domain: 19
    to_domain: 20

  DP_09/particle_cloud:
    type: nav2_msgs/msg/ParticleCloud
    from_domain: 19
    to_domain: 20

  DP_09/robot_description:
    type: std_msgs/msg/String
    from_domain: 19
    to_domain: 20

  # 제어 토픽 (관제 → 로봇) - 필요할 때만
  DP_09/cmd_vel:
    type: geometry_msgs/msg/Twist
    from_domain: 20
    to_domain: 19
    remap: cmd_vel

  DP_09/goal_pose:
    type: geometry_msgs/msg/PoseStamped
    from_domain: 20
    to_domain: 19
    remap: goal_pose

  # Map 공유 (관제 → 모든 로봇)
  map:
    type: nav_msgs/msg/OccupancyGrid
    from_domain: 20
    to_domain: 13

  map:
    type: nav_msgs/msg/OccupancyGrid
    from_domain: 20
    to_domain: 19

  # ==================== 로봇팔 (HANA Arm) 연동 (새 이름으로 수정됨) ====================

  # 서버(20) -> 로봇팔(14): 픽업 요청
  robot_arm/user_cmd:
    type: std_msgs/msg/Int32
    from_domain: 20
    to_domain: 14

  # 로봇팔(14) -> 서버(20): 배치 완료 응답
  robot_arm/status:
    type: std_msgs/msg/String
    from_domain: 14
    to_domain: 20

  DP_03/waypoint_path_goal:
      type: nav_msgs/msg/Path
      from_domain: 20
      to_domain: 13

  DP_09/waypoint_path_goal:
    type: nav_msgs/msg/Path
    from_domain: 20
    to_domain: 19 

  # ▼▼▼▼▼ 로봇별 고유 결과 토픽을 각각 브리지 ▼▼▼▼▼
  DP_03/task_result:
    type: std_msgs/msg/String
    from_domain: 13
    to_domain: 20

  DP_09/task_result:
    type: std_msgs/msg/String
    from_domain: 19
    to_domain: 20

  